---
created: '2026-02-04T14:34:10.659118+00:00'
deps:
- bg-9872f8
id: bg-386435
parent: bg-92325e
priority: 1
status: closed
tags:
- offline
- testing
title: Create comprehensive offline mode tests
type: task
updated: '2026-02-05T19:42:27.607137+00:00'
---

## Description

Create tests/test_offline.py with comprehensive offline mode test coverage:

## Test structure
```python
# Unit tests
def test_get_project_identifier_with_git()
def test_get_project_identifier_without_git()
def test_find_offline_store_exists()
def test_find_offline_store_not_exists()
def test_offline_store_mapping()

# Integration tests
def test_init_offline_creates_store()
def test_init_offline_with_custom_name()
def test_create_ticket_in_offline_store()
def test_list_tickets_from_offline_store()

# Precedence tests
def test_local_bodega_takes_precedence_over_offline()
def test_offline_fallback_when_no_local()

# Edge cases
def test_init_offline_without_git()
def test_init_offline_and_branch_error()
def test_offline_store_already_exists()
```

## Fixtures needed (add to conftest.py)
- `temp_home`: Temporary HOME directory for ~/.bodega/
- `offline_repo`: Repo with offline store configured
- `dual_store_repo`: Repo with both local and offline stores

## Coverage goals
- 100% coverage of new offline utilities
- All error paths tested
- Precedence logic verified

## Notes

- 2026-02-05 19:42: tests will be updated alongside other tickets