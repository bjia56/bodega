---
created: '2026-02-04T14:33:15.391796+00:00'
id: bg-23b639
parent: bg-92325e
priority: 1
status: open
tags:
- offline
- utils
title: Add project identifier utilities for offline mode
type: task
updated: '2026-02-04T14:33:15.391904+00:00'
---

## Description

Add functions to src/bodega/utils.py for identifying projects:

## Functions to implement
1. `get_project_identifier(path: Path) -> str`
   - Try to get git remote URL and hash it (sha256, first 12 chars)
   - Fallback to absolute path hash if no git remote
   - Return sanitized identifier safe for filesystem (e.g., "git-a1b2c3d4e5f6" or "path-9f8e7d6c5b4a")

2. `get_git_remote_url(repo_path: Path) -> Optional[str]`
   - Helper to safely get git remote origin URL
   - Return None if not a git repo or no remote

## Implementation notes
- Use hashlib.sha256() for hashing
- Handle edge cases: no git, no remote, permission errors
- Add comprehensive docstrings with examples
- Sanitize identifiers: lowercase, alphanumeric + dash only